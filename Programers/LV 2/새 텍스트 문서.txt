import java.util.*;

class Solution {
    public String solution(int n, int t, int m, int p) {
        String answer = "";
        
        ArrayList<String> list = new ArrayList<>();
        int curNum = 0;
        while(list.size() < t * m) {
            Stack<String> strs = getStrList(curNum, n);
            while(!strs.isEmpty())
                list.add(strs.pop());
            curNum++;
        }
        
        for(int i = 0 ; i < t ; i++) {
            answer += list.get(p + m * i - 1);
        }
        return answer;
    }
    
    public Stack<String> getStrList(int num, int digit) {
        Stack<String> returnString = new Stack<>();
        while(true) {
            returnString.push(convertNum(num % digit));
            num /= digit;
            if(num == 0) break;
        }
        
        return returnString;
    }
    
    public String convertNum(int num) {
        if(num <= 9) return String.valueOf((char)('0' + num));
        return String.valueOf((char)('A' + num - 10));
    }
    
}